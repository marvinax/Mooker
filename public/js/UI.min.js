UI={},UI.Three=function(t,e,i){this.materials,this.ctrl,this.rndr,this.scene,this.camera,this.init(t,e,i),$(window).resize(function(){var e=$("#"+t).width(),i=$("#"+t).height();this.rndr.setSize(e,i),this.camera.aspect=e/i,this.camera.updateProjectionMatrix()}.bind(this))},UI.Three.prototype.constructor=UI.Three,UI.Three.prototype.initControl=function(t){this.ctrl=new THREE.TrackballControls(this.camera,$("#"+t).get(0)),this.ctrl.rotateSpeed=1,this.ctrl.zoomSpeed=1.2,this.ctrl.panSpeed=.8,this.ctrl.noZoom=!1,this.ctrl.noPan=!1,this.ctrl.staticMoving=!1,this.ctrl.dynamicDampingFactor=.3},UI.Three.prototype.resetControl=function(){new TWEEN.Tween(camera.position).to({x:0,y:0,z:200},600).easing(TWEEN.Easing.Sinusoidal.EaseInOut).start()},UI.Three.prototype.initRenderer=function(t,e,i){this.rndr=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),$("#"+t).get(0).appendChild(this.rndr.domElement),this.rndr.setPixelRatio(window.devicePixelRatio),this.rndr.setSize(e,i),this.rndr.setClearColor(16448250,1)},UI.Three.prototype.initScene=function(t,e){this.camera=new THREE.PerspectiveCamera(20,t/e,10,1e3),this.camera.position.set(0,0,200);var i=new THREE.AmbientLight(2105376),n=new THREE.DirectionalLight(14737632,1);n.position=this.camera.position,this.camera.add(n),this.scene=new THREE.Scene,this.scene.add(this.camera),this.scene.add(i)},UI.Three.prototype.render=function(){this.rndr.render(this.scene,this.camera)},UI.Three.prototype.animate=function(){var t=this;requestAnimationFrame(function(){t.animate(),t.ctrl.update(),t.render()})},UI.Three.prototype.init=function(t,e,i){if(e)this.initScene(e,i),this.initRenderer(t,e,i),this.initControl(t,e,i);else{var e=$("#"+t).width(),i=$("#"+t).height();this.initScene(e,i),this.initRenderer(t,e,i),this.initControl(t,e,i)}this.render(),this.animate()},UI.Three.prototype.resize=function(t){var e=$("#"+t).width(),i=$("#"+t).height();this.rndr.setSize(e,i)},UI.Three.prototype.update=function(){},UI.Two=function(t,e,i){if(this.patterns={},this.mapRange=new fabric.Rect,e)this.canvas=new fabric.Canvas(t,{width:e,height:i}),this.resize(e,i);else{var e=$("#"+t).width(),i=$("#"+t).height();this.canvas=new fabric.Canvas(t,{width:e,height:i}),this.resize(e,i)}$(".canvas-container").ruler({showCrosshair:!1}),$(window).resize(function(){$("#"+t).width(),$("#"+t).height()}.bind(this))},UI.Two.prototype.constructor=UI.Two,UI.Two.prototype.setBackgroundColor=function(){},UI.Two.prototype.resize=function(t,e){this.canvas.setWidth(t),this.canvas.setHeight(e);var i=this.canvas.getElement();i.setAttribute("width",t*window.devicePixelRatio),i.setAttribute("height",e*window.devicePixelRatio),i.getContext("2d").scale(window.devicePixelRatio,window.devicePixelRatio),this.canvas.backgroundColor="rgba(255,255,255, 1)",this.canvas.renderAll()},UI.Two.prototype.addImage=function(t){console.log(t),fabric.Image.fromURL(t,function(t){console.log(t),t._element.crossOrigin="Anonymous",this.canvas.add(t)}.bind(this))},UI.Two.prototype.addText=function(t,e,n,r){var a=e.split(" ");if(0!=t.length){var o=t.split("").map(function(t){return new fabric.Text(t,{left:0,top:100,fontFamily:a[0],fontWeight:a[1],fontSize:n})});for(i=1;i<t.length;i++)o[i].left+=o[i-1].left+o[i-1].getWidth()+r;this.canvas.add(new fabric.Group(o,{left:100})),this.canvas.renderAll()}},UI.Two.prototype.makePatterns=function(){for(var t=[],e=0;e<Math.floor($("#viewContainer").width()/50);e++)for(var i=0;i<Math.floor($("#viewContainer").height()/50);i++)t.push(new fabric.Circle({radius:10,fill:"#000",left:50*e,top:50*i})),t.push(new fabric.Circle({radius:10,fill:"#000",left:50*e+25,top:50*i+25}));this.patterns.dots=new fabric.Group(t,{left:0,top:0,label:"pattern",selectable:!1});for(var n=[],e=0;e<Math.floor($("#viewContainer").width()/40)+50;e++)n.push(new fabric.Rect({fill:"#000",width:32,height:1e3,left:80*e-400,top:0,angle:45}));this.patterns.stripes=new fabric.Group(n,{left:-540,top:-140,label:"pattern",selectable:!1})},UI.Two.prototype.updatePattern=function(t){this.canvas.add(this.patterns[t])},UI.Two.prototype.removeSelectedObject=function(){null==this.canvas.getActiveObject()?(this.canvas.getActiveGroup().forEachObject(function(t){this.canvas.remove(t)}),this.canvas.discardActiveGroup().renderAll()):null!=this.canvas.getActiveObject()&&(this.canvas.remove(this.canvas.getActiveObject()),this.canvas.discardActiveObject().renderAll())},UI.Two.prototype.removeAll=function(){this.canvas.clear()};
//# sourceMappingURL=UI.min.js.map